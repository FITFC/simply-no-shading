import static java.lang.Character.isWhitespace
import static java.lang.Character.toTitleCase

import java.time.Instant

ext {
	fabricApiModule = { final def module, final def version = fabric_version ->
		return fabricApi.module(module, version)
	}

	nonnegative = { final int i ->
		return i < 0 ? 0 : i
	}

	paddedHexString = { final long l ->
		return padLeft((int) '0', 16, Long.toHexString(l));
	}

	padLeft = { final int ch = ' ', final int pad, final String s ->
		final String padding = ch.toString().repeat(nonnegative(pad - s.length()))

		return padding + s;
	}

	titleCased = { final String text ->
		final char[] textTitleCased = new char[text.size()]
		boolean titleCase = true

		for (int i = 0; i < text.size(); i++) {
			char ch = text.charAt i

			if (!isWhitespace(ch)) {
				if (titleCase) {
					ch = toTitleCase ch
					titleCase = false
				}

				textTitleCased[i] = ch
			} else {
				titleCase = true
			}
		}

		return String.valueOf(textTitleCased)
	}
}
